"use strict";const displayedPass=document.querySelector("[data-passwordDisplay]"),copyBtn=document.querySelector("[data-copy]"),copyMsg=document.querySelector("[data-copyMsg]"),lengthNumber=document.querySelector("[data-lengthNumber]"),inputSlider=document.querySelector("[data-lengthSlider]"),uppercaseCheck=document.querySelector("#uppercase"),lowercaseCheck=document.querySelector("#lowercase"),numberCheck=document.querySelector("#numbers"),symbolCheck=document.querySelector("#symbols"),indicator=document.querySelector("[data-indicator]"),generateBtn=document.querySelector("[data-generate]"),symbols="~`!@#$%^&*()-_+=[]{}|:;',<.>/?";let length=10,password="";function defaultActions(){lengthNumber.innerText=length,inputSlider.value=length,handleSlider(),uppercaseCheck.checked=!0}function shufflePass(e){let r="",t=e.split("");for(let n=e.length-1;n>0;n--){let a=Math.floor(Math.random()*(n+1)),s=t[n];t[n]=t[a],t[a]=s}return t.forEach(e=>{r+=e}),r}function showPassword(e){displayedPass.value=e}function handleSlider(){lengthNumber.innerText=length,inputSlider.value=length;let e=(length-inputSlider.min)*100/(inputSlider.max-inputSlider.min);inputSlider.style.backgroundSize=`${e}% 100%`}function showMessage(){copyMsg.classList.add("active"),setTimeout(()=>{copyMsg.classList.remove("active")},1e3)}async function copyContent(){try{await navigator.clipboard.writeText(password),showMessage()}catch(e){copyMsg.innerText="Failed to copy",showMessage()}}function getRandUpperChar(e=65,r=91){return String.fromCharCode(Math.floor(Math.random()*(r-e))+e)}function getRandLowerChar(e=97,r=123){return String.fromCharCode(Math.floor(Math.random()*(r-e))+e)}function getRandInt(e=0,r=10){return Math.floor(Math.random()*(r-e))+e}function getRandSym(e=0,r=symbols.length){return symbols[Math.floor(Math.random()*(r-e))+e]}function setIndicator(){let e;e=length>3||uppercaseCheck.checked+lowercaseCheck.checked+numberCheck.checked+symbolCheck.checked>=2?"#75D701":"#f9320c",indicator.style.backgroundColor=e,indicator.style.boxShadow=`0px 0px 12px 1px ${e}`}copyBtn.addEventListener("click",e=>{displayedPass.value&&(copyContent(),copyBtn.classList.add("press"),setTimeout(()=>{copyBtn.classList.remove("press")},100))}),inputSlider.addEventListener("change",e=>{length=e.target.value,handleSlider()}),generateBtn.addEventListener("click",e=>{generateBtn.classList.add("press"),setTimeout(()=>{generateBtn.classList.remove("press")},200),password="";let r=1;if(uppercaseCheck.checked&&(password+=getRandUpperChar(),r++),lowercaseCheck.checked&&(password+=getRandLowerChar(),r++),numberCheck.checked&&(password+=getRandInt(),r++),symbolCheck.checked&&(password+=getRandSym(),r++),r<=1)return;r>length&&(length=r-1,lengthNumber.innerText=length,inputSlider.value=length,handleSlider());let t=Math.floor(4*Math.random())+1;for(;r<=length;)1==t&&uppercaseCheck.checked?(password+=getRandUpperChar(),r++):2==t&&lowercaseCheck.checked?(password+=getRandLowerChar(),r++):3==t&&numberCheck.checked?(password+=getRandInt(),r++):4==t&&symbolCheck.checked&&(password+=getRandSym(),r++),t=Math.floor(4*Math.random())+1;showPassword(password=shufflePass(password)),setIndicator()}),defaultActions();
